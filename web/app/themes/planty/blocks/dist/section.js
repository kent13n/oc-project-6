(()=>{var e=wp.blocks.registerBlockType,t=wp.blockEditor,n=(t.RichText,t.InspectorControls),a=t.MediaUpload,o=(t.MediaUploadCheck,t.InnerBlocks),l=wp.components,r=l.ColorPicker,c=l.PanelBody,i=l.TextControl,g=l.Button,m=l.ToggleControl,u=l.SelectControl,p=l.__experimentalNumberControl;function d(e,t){var n={height:t+"px"},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?wp.element.createElement("path",{className:"cls-1",d:"M600,107.5C268.6,107.5,12.7,63.6.2,7.2H0V120H1200V7.2h-1.3C1174.9,63.6,931.4,107.5,600,107.5Z",transform:"translate(0 -7.2)",fillOpacity:"0.1"}):"";return e?wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 1200 120",preserveAspectRatio:"none",className:"wave-divider",style:n},a,wp.element.createElement("path",{d:"M600,112.77C268.63,112.77,0,65.52,0,7.23V120H1200V7.23C1200,65.52,931.37,112.77,600,112.77Z",className:"shape-fill",fill:"#FFFFFF",fillOpacity:"1"})):""}function s(e){var t={};if(void 0!==e.backgroundColor&&(t.backgroundColor=e.backgroundColor),void 0!==e.backgroundImage&&""!==e.backgroundImage&&e.enableBackgroundImage){var n=e.backgroundOrigin.split(" ");t.backgroundImage="url(".concat(e.backgroundImage,")"),t.backgroundPosition="".concat(n[0]," ").concat(e.backgroundImagePositionX,"px ").concat(n[1]," ").concat(e.backgroundImagePositionY,"px"),null!==e.backgroundImageWidth&&e.backgroundImageWidth>0&&(t.backgroundSize="".concat(e.backgroundImageWidth,"px")),null!==e.backgroundImageHeight&&e.backgroundImageHeight>0&&(t.backgroundSize||(t.backgroundSize=""),t.backgroundSize=t.backgroundSize+" "+e.backgroundImageHeight+"px")}return e.backgroundImageRepeat||(t.backgroundRepeat="no-repeat"),t}e("planty/section",{title:(0,wp.i18n.__)("Section","planty"),icon:"text-page",category:"theme",edit:function(e){var t=e.className,l=e.attributes,b=e.setAttributes,k=l.waveSeparator,w=l.waveHeight,h=l.waveMarker,v=l.backgroundImage,I=l.backgroundImageRepeat,f=l.enableBackgroundImage,C=(l.backgroundImagePositionX,l.backgroundImagePositionY,s(l)),E="number"==typeof w&&w>0?w:40,H=d(l.waveSeparator,E,h);return wp.element.createElement("div",{className:t,style:C},wp.element.createElement(o,null),H,wp.element.createElement(n,null,wp.element.createElement(c,{title:"Couleur de fond",initialOpen:!1},wp.element.createElement(r,{color:l.backgroundColor,onChangeComplete:function(e){return b({backgroundColor:e.hex})},disableAlpha:!0})),wp.element.createElement(c,{title:"Image de fond",initialOpen:!1},wp.element.createElement(m,{label:"Activer l'image de fond",checked:f,onChange:function(){b({enableBackgroundImage:!f})}}),wp.element.createElement(m,{label:"Répétition de l'image de fond",checked:I,onChange:function(){b({backgroundImageRepeat:!I})}}),wp.element.createElement(a,{type:"image",onSelect:function(e){var t=e.sizes.full.url.replace("http://","//")||e.sizes.full.url;b({backgroundImage:t})},render:function(e){var t=e.open;return wp.element.createElement(g,{onClick:t,className:v?"image-section-button":"button"},v?wp.element.createElement("img",{src:v,className:"section-image-illustration"}):"Choisir une image")}}),wp.element.createElement("div",{className:"components-section-background-position"},wp.element.createElement("p",null,"Background position"),wp.element.createElement("div",{className:"components-section-background-position-body"},wp.element.createElement(p,{label:"X:",value:l.backgroundImagePositionX,onChange:function(e){b({backgroundImagePositionX:parseInt(e)||0})}}),wp.element.createElement(p,{label:"Y:",value:l.backgroundImagePositionY,onChange:function(e){b({backgroundImagePositionY:parseInt(e)||0})}})),wp.element.createElement("p",null,"Background size"),wp.element.createElement("div",{className:"components-section-background-position-body"},wp.element.createElement(p,{label:"W:",value:l.backgroundImageWidth,onChange:function(e){e=""===e?null:parseInt(e)||0,b({backgroundImageWidth:e})}}),wp.element.createElement(p,{label:"H:",value:l.backgroundImageHeight,onChange:function(e){e=""===e?null:parseInt(e)||0,b({backgroundImageHeight:e})}}))),wp.element.createElement(u,{label:"Background origin:",value:l.backgroundOrigin,onChange:function(e){b({backgroundOrigin:e})},options:[{value:"top left",label:"Top Left"},{value:"top right",label:"Top Right"},{value:"bottom left",label:"Bottom Left"},{value:"bottom right",label:"Bottom Right"}]})),wp.element.createElement(c,{title:"Wave Separator",initialOpen:!1},wp.element.createElement(m,{label:"Afficher Wave Separator",checked:k,onChange:function(){return b({waveSeparator:!k})}}),wp.element.createElement(m,{label:"Activer marker",checked:h,onChange:function(){return b({waveMarker:!h})}}),wp.element.createElement(i,{label:"Hauteur du separator:",value:l.waveHeight,onChange:function(e){""===e&&b({waveHeight:e});var t=parseInt(e);NaN!==t&&t>0&&b({waveHeight:t})}}))))},save:function(e){var t=e.className,n=e.attributes,a=s(n),l="number"==typeof n.waveHeight&&n.waveHeight>0?n.waveHeight:40,r=d(n.waveSeparator,l,n.waveMarker);return wp.element.createElement("div",{className:t,style:a},wp.element.createElement(o.Content,null),r)}})})();